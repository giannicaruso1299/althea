{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giann\\\\Desktop\\\\althea2\\\\client\\\\src\\\\components\\\\AddItem.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport '../index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Col, Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport axios from 'axios';\n\nfunction setDefaultVal(value, defaultValue) {\n  return value === undefined ? defaultValue : value.state;\n}\n\nclass AddItem extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      allowed: setDefaultVal(this.props.location.state, false),\n      nomeOggetto: \"\",\n      evento: \"\",\n      descrizione: \"\",\n      selectedFile: \"\"\n    };\n\n    this.handleFile = e => {\n      console.log(e.target.files[0]);\n      this.setState({\n        selectedFile: e.target.files[0]\n      });\n    };\n\n    this.handleName = e => {\n      this.setState({\n        nomeOggetto: e.target.value\n      });\n    };\n\n    this.handleEvent = e => {\n      this.setState({\n        evento: e.target.value\n      });\n    };\n\n    this.handleDesc = e => {\n      this.setState({\n        descrizione: e.target.value\n      });\n    };\n\n    this.fileUploadHandler = e => {\n      const fd = new FormData();\n      fd.append('name', this.state.nomeOggetto);\n      fd.append('event', this.state.evento);\n      fd.append('description', this.state.descrizione);\n      fd.append('productImage', this.state.selectedFile, this.state.selectedFile.name);\n      axios.post('http://localhost:5000/api/items', fd).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, !this.state.allowed && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, \"Non sei autorizzato ad entrare in questa sezione\")), this.state.allowed && /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleEmail\",\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, \"Nome Oggetto\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"nome\",\n      id: \"nome\",\n      placeholder: \"Nome dell'oggettino\",\n      onChange: this.handleName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleEmail\",\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, \"Evento\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"event\",\n      id: \"evento\",\n      placeholder: \"Descrizione dell'evento\",\n      onChange: this.handleEvent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleText\",\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, \"Descrizione\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      name: \"description\",\n      id: \"description\",\n      placeholder: \"Descrizione dell'oggettino\",\n      onChange: this.handleDesc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleFile\",\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, \"File\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"file\",\n      name: \"file\",\n      id: \"exampleFile\",\n      onChange: this.handleFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: {\n        size: 10,\n        offset: 2\n      },\n      className: \"text-center mb-sm-0 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"danger\",\n      onClick: this.fileUploadHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }\n    }, \"Aggiungi\")))));\n  }\n\n}\n\nexport default AddItem;","map":{"version":3,"sources":["C:/Users/giann/Desktop/althea2/client/src/components/AddItem.js"],"names":["React","Component","Col","Button","Form","FormGroup","Label","Input","axios","setDefaultVal","value","defaultValue","undefined","state","AddItem","allowed","props","location","nomeOggetto","evento","descrizione","selectedFile","handleFile","e","console","log","target","files","setState","handleName","handleEvent","handleDesc","fileUploadHandler","fd","FormData","append","name","post","then","res","catch","err","componentDidMount","render","size","offset"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../App.css';\nimport '../index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Col, Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport axios from 'axios';\n\nfunction setDefaultVal(value, defaultValue) {\n    return (value === undefined) ? defaultValue : value.state;\n}\n\nclass AddItem extends Component {\n\n    state = {\n        allowed: setDefaultVal(this.props.location.state, false),\n        nomeOggetto:\"\",\n        evento:\"\",\n        descrizione:\"\",\n        selectedFile:\"\"\n    };\n\n    componentDidMount() {\n        console.log(this.props);\n    }\n\n    handleFile = (e) => {\n        console.log(e.target.files[0]);\n        this.setState({\n            selectedFile: e.target.files[0]\n        });\n    };\n\n    handleName = (e) => {\n        this.setState({\n            nomeOggetto:e.target.value\n        })\n    }\n\n    handleEvent = (e) => {\n        this.setState({\n            evento:e.target.value\n        })\n    }\n\n    handleDesc = (e) => {\n        this.setState({\n            descrizione:e.target.value\n        })\n    }\n\n    fileUploadHandler = (e) => {\n        const fd = new FormData();\n        fd.append('name',this.state.nomeOggetto);\n        fd.append('event',this.state.evento);\n        fd.append('description',this.state.descrizione);\n        fd.append('productImage',this.state.selectedFile,this.state.selectedFile.name);\n\n        axios.post('http://localhost:5000/api/items',fd)\n            .then(res => {\n                console.log(res);\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    };\n\n    render() {\n        return (\n            <div className=\"container mt-5\">\n                {(!this.state.allowed) && (\n                    <div className=\"row justify-content-center\">\n                        <h1>Non sei autorizzato ad entrare in questa sezione</h1>\n                    </div>\n                )}\n\n                {(this.state.allowed) && (\n                    <Form>\n                        <FormGroup row>\n                            <Label for=\"exampleEmail\" sm={2}>Nome Oggetto</Label>\n                            <Col sm={10}>\n                                <Input type=\"text\" name=\"nome\" id=\"nome\" placeholder=\"Nome dell'oggettino\" onChange={this.handleName}/>\n                            </Col>\n                        </FormGroup>\n                        <FormGroup row>\n                            <Label for=\"exampleEmail\" sm={2}>Evento</Label>\n                            <Col sm={10}>\n                                <Input type=\"text\" name=\"event\" id=\"evento\" placeholder=\"Descrizione dell'evento\" onChange={this.handleEvent}/>\n                            </Col>\n                        </FormGroup>\n                        <FormGroup row>\n                            <Label for=\"exampleText\" sm={2}>Descrizione</Label>\n                            <Col sm={10}>\n                                <Input type=\"textarea\" name=\"description\" id=\"description\" placeholder=\"Descrizione dell'oggettino\"onChange={this.handleDesc}/>\n                            </Col>\n                        </FormGroup>\n                        <FormGroup row>\n                            <Label for=\"exampleFile\" sm={2}>File</Label>\n                            <Col sm={10}>\n                                <Input type=\"file\" name=\"file\" id=\"exampleFile\" onChange={this.handleFile}/>\n                            </Col>\n                        </FormGroup>\n                        <FormGroup check row>\n                            <Col sm={{ size: 10, offset: 2 }} className=\"text-center mb-sm-0 mb-3\">\n                                <Button color=\"danger\" onClick={this.fileUploadHandler}>Aggiungi</Button>\n                            </Col>\n                        </FormGroup>\n                </Form>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default AddItem;"]},"metadata":{},"sourceType":"module"}