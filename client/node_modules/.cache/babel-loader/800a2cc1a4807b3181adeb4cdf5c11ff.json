{"ast":null,"code":"var _jsxFileName = \"/home/gianni/Desktop/prova/client/src/components/Auth.js\";\nimport React, { Component } from 'react'; //import {Link} from 'react-router-dom';\n\nimport axios from 'axios';\nimport Alerta from '../alerts/Alerta';\n\nclass Auth extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      nomeUtente: \"\",\n      password: \"\",\n      allowed: false,\n      alertVisibility: false\n    };\n\n    this.handleUser = e => {\n      this.setState({\n        nomeUtente: e.target.value\n      });\n    };\n\n    this.handlePass = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.checkData = e => {\n      e.preventDefault();\n      var body = {\n        nomeUtente: this.state.nomeUtente,\n        password: this.state.password\n      };\n      console.log(body);\n      axios.post(\"http://localhost:5000/api/users/findUser\", body).then(res => {\n        if (res.data.length > 0) {\n          this.setState({\n            allowed: true\n          });\n          this.props.history.push({\n            pathname: \"/areapersonale\",\n            state: {\n              allowed: this.state.allowed\n            }\n          });\n        } else if (res.data.length === 0) {\n          this.setState({\n            alertVisibility: !this.state.alertVisibility\n          });\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        fontFamily: \"sans-serif\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, \"Effettua il login prima di entrare nell'area privata\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, this.state.alertVisibility && /*#__PURE__*/React.createElement(Alerta, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.checkData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        fontFamily: \"sans-serif\"\n      },\n      className: \"form-control w-100\",\n      placeholder: \"Username\",\n      \"aria-label\": \"Username\",\n      \"aria-describedby\": \"basic-addon1\",\n      onChange: this.handleUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      style: {\n        fontFamily: \"sans-serif\"\n      },\n      id: \"password\",\n      className: \"form-control w-100\",\n      placeholder: \"Password\",\n      required: true,\n      onChange: this.handlePass,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      type: \"submit\",\n      style: {\n        fontFamily: \"sans-serif\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, \"Accedi\")))));\n  }\n\n}\n\nexport default Auth;\n/*                            <Link to={{\n                                pathname: '/areapersonale',\n                                state: {\n                                    nomeUtente: this.state.nomeUtente,\n                                    password: this.state.password\n                                }\n                            }}>\n                                \n                            </Link>*/","map":{"version":3,"sources":["/home/gianni/Desktop/prova/client/src/components/Auth.js"],"names":["React","Component","axios","Alerta","Auth","state","nomeUtente","password","allowed","alertVisibility","handleUser","e","setState","target","value","handlePass","checkData","preventDefault","body","console","log","post","then","res","data","length","props","history","push","pathname","catch","err","render","fontFamily"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\n//import {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport Alerta from '../alerts/Alerta';\n\nclass Auth extends Component {\n\n    state = {\n        nomeUtente:\"\",\n        password:\"\",\n        allowed: false,\n        alertVisibility: false\n    }\n\n    handleUser = (e) => {\n        this.setState({\n            nomeUtente: e.target.value\n        });\n    };\n\n    handlePass = (e) => {\n        this.setState({\n            password: e.target.value\n        });\n    };\n\n    checkData = (e) => {\n\n        e.preventDefault();\n\n        var body = {\n            nomeUtente:this.state.nomeUtente,\n            password:this.state.password\n        }\n\n        console.log(body);\n\n        axios.post(\"http://localhost:5000/api/users/findUser\", body) \n            .then(res => {\n                if(res.data.length > 0) {\n                    this.setState({\n                        allowed:true\n                    });\n                    this.props.history.push({\n                        pathname:\"/areapersonale\",\n                        state: {allowed:this.state.allowed}\n                    });\n                } else if(res.data.length === 0) {\n                    this.setState({\n                        alertVisibility: !this.state.alertVisibility\n                    })\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"row justify-content-center\">\n                    <h1 style={{fontFamily:\"sans-serif\"}}>Effettua il login prima di entrare nell'area privata</h1>\n                </div>\n                <div className=\"row justify-content-center\">\n                    {(this.state.alertVisibility) && (\n                        <Alerta/>\n                    )}\n                </div>\n                <div className=\"row justify-content-center\">\n                    <form  onSubmit = {this.checkData}>\n                        <div className=\"row\">\n                            <div className=\"input-group mb-3\">\n                                <input type=\"text\" style={{fontFamily:\"sans-serif\"}} className=\"form-control w-100\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" onChange={this.handleUser}></input>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"input-group mb-3\">\n                                <input type=\"password\" style={{fontFamily:\"sans-serif\"}} id=\"password\" className=\"form-control w-100\" placeholder=\"Password\" required onChange={this.handlePass}></input>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <button className=\"btn btn-danger\" type=\"submit\" style={{fontFamily:\"sans-serif\"}}>Accedi</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default Auth;\n\n/*                            <Link to={{\n                                pathname: '/areapersonale',\n                                state: {\n                                    nomeUtente: this.state.nomeUtente,\n                                    password: this.state.password\n                                }\n                            }}>\n                                \n                            </Link>*/"]},"metadata":{},"sourceType":"module"}