{"ast":null,"code":"var _jsxFileName = \"/home/gianni/Desktop/prova/client/src/components/AddItem.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport '../index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Col, Button, Form, FormGroup, Label, Input, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport axios from 'axios';\n\nfunction setDefaultVal(value, defaultValue) {\n  return value === undefined ? defaultValue : value;\n}\n\nclass AddItem extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modal: false,\n      modalErr: false,\n      allowed: setDefaultVal(this.props.location.state, false),\n      nomeOggetto: \"\",\n      evento: \"\",\n      descrizione: \"\",\n      selectedFile: \"\"\n    };\n\n    this.handleFile = e => {\n      console.log(e.target.files[0]);\n      this.setState({\n        selectedFile: e.target.files[0]\n      });\n    };\n\n    this.handleName = e => {\n      this.setState({\n        nomeOggetto: e.target.value\n      });\n    };\n\n    this.handleEvent = e => {\n      this.setState({\n        evento: e.target.value\n      });\n    };\n\n    this.handleDesc = e => {\n      this.setState({\n        descrizione: e.target.value\n      });\n    };\n\n    this.fileUploadHandler = e => {\n      e.preventDefault();\n      const fd = new FormData();\n      fd.append('name', this.state.nomeOggetto);\n      fd.append('event', this.state.evento);\n      fd.append('description', this.state.descrizione);\n      fd.append('productImage', this.state.selectedFile, this.state.selectedFile.name);\n      axios.post('http://localhost:5000/api/items', fd).then(res => {\n        console.log(res);\n        this.setState({\n          modal: true\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.toggle = e => {\n      e.preventDefault();\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-5\",\n      style: {\n        fontFamily: \"sans-serif\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, !this.state.allowed && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, \"Non sei autorizzato ad entrare in questa sezione\")), this.state.allowed && /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleEmail\",\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, \"Nome Oggetto\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"nome\",\n      id: \"nome\",\n      placeholder: \"Nome dell'oggetto\",\n      onChange: this.handleName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleEmail\",\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, \"Evento\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"select\",\n      name: \"select\",\n      id: \"evento\",\n      placeholder: \"Descrizione dell'evento\",\n      onChange: this.handleEvent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 37\n      }\n    }, \"Nascita\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 37\n      }\n    }, \"Battesimo\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 37\n      }\n    }, \"Compleanno\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 37\n      }\n    }, \"Comunione\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 37\n      }\n    }, \"Cresima\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 37\n      }\n    }, \"Laurea\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 37\n      }\n    }, \"Matrimonio\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 37\n      }\n    }, \"Altri\")))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleText\",\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, \"Descrizione\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      name: \"description\",\n      id: \"description\",\n      placeholder: \"Descrizione dell'oggetto\",\n      onChange: this.handleDesc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleFile\",\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }\n    }, \"File\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"file\",\n      name: \"file\",\n      id: \"exampleFile\",\n      onChange: this.handleFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: {\n        size: 10,\n        offset: 2\n      },\n      className: \"text-center mb-sm-0 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"danger\",\n      onClick: this.fileUploadHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 33\n      }\n    }, \"Aggiungi\"), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 37\n      }\n    }, \"Articolo inserito!\"), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 37\n      }\n    }, \"Articolo correttamente inserito!\"))))));\n  }\n\n}\n\nexport default AddItem;","map":{"version":3,"sources":["/home/gianni/Desktop/prova/client/src/components/AddItem.js"],"names":["React","Component","Col","Button","Form","FormGroup","Label","Input","Modal","ModalHeader","ModalBody","axios","setDefaultVal","value","defaultValue","undefined","AddItem","state","modal","modalErr","allowed","props","location","nomeOggetto","evento","descrizione","selectedFile","handleFile","e","console","log","target","files","setState","handleName","handleEvent","handleDesc","fileUploadHandler","preventDefault","fd","FormData","append","name","post","then","res","catch","err","toggle","render","fontFamily","size","offset"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../App.css';\nimport '../index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Col, Button, Form, FormGroup, Label, Input, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport axios from 'axios';\n\nfunction setDefaultVal(value, defaultValue) {\n    return (value === undefined) ? defaultValue : value;\n}\n\nclass AddItem extends Component {\n\n    state = {\n        modal:false,\n        modalErr:false,\n        allowed: setDefaultVal(this.props.location.state, false),\n        nomeOggetto:\"\",\n        evento:\"\",\n        descrizione:\"\",\n        selectedFile:\"\"\n    };\n\n    handleFile = (e) => {\n        console.log(e.target.files[0]);\n        this.setState({\n            selectedFile: e.target.files[0]\n        });\n    };\n\n    handleName = (e) => {\n        this.setState({\n            nomeOggetto:e.target.value\n        })\n    }\n\n    handleEvent = (e) => {\n        this.setState({\n            evento:e.target.value\n        })\n    }\n\n    handleDesc = (e) => {\n        this.setState({\n            descrizione:e.target.value\n        })\n    }\n\n    fileUploadHandler = (e) => {\n\n        e.preventDefault();\n\n        const fd = new FormData();\n        fd.append('name',this.state.nomeOggetto);\n        fd.append('event',this.state.evento);\n        fd.append('description',this.state.descrizione);\n        fd.append('productImage',this.state.selectedFile,this.state.selectedFile.name);\n\n        axios.post('http://localhost:5000/api/items',fd)\n            .then(res => {\n                console.log(res);\n                this.setState({\n                    modal:true\n                });\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    };\n\n    toggle = (e) => {\n        e.preventDefault();\n        this.setState({\n            modal:!this.state.modal\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"container mt-5\" style={{fontFamily:\"sans-serif\"}}>\n                {(!this.state.allowed) && (\n                    <div className=\"row justify-content-center\">\n                        <h1>Non sei autorizzato ad entrare in questa sezione</h1>\n                    </div>\n                )}\n\n                {(this.state.allowed) && (\n                    <Form>\n                        <FormGroup row>\n                            <Label for=\"exampleEmail\" sm={2}>Nome Oggetto</Label>\n                            <Col sm={10}>\n                                <Input type=\"text\" name=\"nome\" id=\"nome\" placeholder=\"Nome dell'oggetto\" onChange={this.handleName}/>\n                            </Col>\n                        </FormGroup>\n                        <FormGroup row>\n                            <Label for=\"exampleEmail\" sm={2}>Evento</Label>\n                            <Col sm={10}>\n                                <Input type=\"select\" name=\"select\" id=\"evento\" placeholder=\"Descrizione dell'evento\" onChange={this.handleEvent}>\n                                    <option>Nascita</option>\n                                    <option>Battesimo</option>\n                                    <option>Compleanno</option>\n                                    <option>Comunione</option>\n                                    <option>Cresima</option>\n                                    <option>Laurea</option>\n                                    <option>Matrimonio</option>\n                                    <option>Altri</option>\n                                </Input>\n                            </Col>\n                        </FormGroup>\n                        <FormGroup row>\n                            <Label for=\"exampleText\" sm={2}>Descrizione</Label>\n                            <Col sm={10}>\n                                <Input type=\"textarea\" name=\"description\" id=\"description\" placeholder=\"Descrizione dell'oggetto\"onChange={this.handleDesc}/>\n                            </Col>\n                        </FormGroup>\n                        <FormGroup row>\n                            <Label for=\"exampleFile\" sm={2}>File</Label>\n                            <Col sm={10}>\n                                <Input type=\"file\" name=\"file\" id=\"exampleFile\" onChange={this.handleFile}/>\n                            </Col>\n                        </FormGroup>\n                        <FormGroup check row>\n                            <Col sm={{ size: 10, offset: 2 }} className=\"text-center mb-sm-0 mb-3\">\n                                <Button color=\"danger\" onClick={this.fileUploadHandler}>Aggiungi</Button>\n                                <Modal isOpen={this.state.modal} toggle={this.toggle}>\n                                    <ModalHeader toggle={this.toggle}>Articolo inserito!</ModalHeader>\n                                    <ModalBody>\n                                        Articolo correttamente inserito!\n                                    </ModalBody>\n                                </Modal>\n                            </Col>\n                        </FormGroup>\n                </Form>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default AddItem;"]},"metadata":{},"sourceType":"module"}